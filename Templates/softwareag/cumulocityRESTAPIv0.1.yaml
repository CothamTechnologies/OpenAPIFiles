---
swagger: "2.0"
info:
  description: Cumulocity REST API for FloPro Integration
  version: "0.1"
  title: Cumulocity REST API
host: cotham.eu-latest.cumulocity.com
basePath: /
schemes:
- https
security:
- auth: []
paths:
  /alarm:
    get:
      tags:
      - Alarms
      summary: Get the AlarmAPI resource
      description: http://cumulocity.com/guides/reference/alarms/
      produces:
      - application/json
      parameters: []
      responses:
        "200":
          description: Success
          schema:
            $ref: '#/definitions/AlarmAPI'
        default:
          description: Other Error
          schema:
            $ref: '#/definitions/GenericError'
  /alarm/alarms:
    get:
      tags:
      - Alarms
      summary: Get an alarm collection
      description: http://cumulocity.com/guides/reference/alarms/
      produces:
      - application/json
      parameters:
      - name: pageSize
        in: query
        description: Default 5, Max 2000
        required: false
        type: integer
      - name: currentPage
        in: query
        required: false
        type: integer
      - name: withTotalPages
        in: query
        required: false
        type: boolean
      - name: dateFrom
        in: query
        description: example formats 2019-04-20 or 2019-04-20T08:30:00.000Z
        required: false
        type: string
      - name: dateTo
        in: query
        description: example formats 2019-04-20 or 2019-04-20T08:30:00.000Z
        required: false
        type: string
      - name: status
        in: query
        description: status={status}
        required: false
        type: string
      - name: resolved
        in: query
        description: resolved={resolved}
        required: false
        type: string
      - name: severity
        in: query
        description: severity={severity}
        required: false
        type: string
      - name: source
        in: query
        description: source={source}
        required: false
        type: string
      - name: withAssets
        in: query
        description: withAssets={withAssets}
        required: false
        type: string
      - name: withDevices
        in: query
        description: withDevices={withDevices}
        required: false
        type: string
      responses:
        "200":
          description: Success
          schema:
            $ref: '#/definitions/AlarmCollection'
        default:
          description: Other Error
          schema:
            $ref: '#/definitions/GenericError'
    post:
      tags:
      - Alarms
      summary: Create a new Alarm
      description: http://cumulocity.com/guides/reference/alarms/
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - in: body
        name: Alarm
        description: The Alarm to create
        required: true
        schema:
          $ref: '#/definitions/Alarm_1'
      responses:
        "200":
          description: Success
          schema:
            $ref: '#/definitions/Alarm'
        default:
          description: Other Error
          schema:
            $ref: '#/definitions/GenericError'
  /measurement/measurements:
    get:
      tags:
      - Measurement
      summary: https://cumulocity.com/guides/reference/measurements/#measurement-collection
      description: Get Measurement Collection
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - name: X-Cumulocity-System-Of-Units
        in: header
        description: possible values imperial or metric
        required: false
        type: string
      - name: pageSize
        in: query
        description: Default 5, Max 2000
        required: false
        type: integer
      - name: currentPage
        in: query
        required: false
        type: integer
      - name: withTotalPages
        in: query
        required: false
        type: boolean
      - name: dateFrom
        in: query
        description: example formats 2019-04-20 or 2019-04-20T08:30:00.000Z
        required: false
        type: string
      - name: dateTo
        in: query
        description: example formats 2019-04-20 or 2019-04-20T08:30:00.000Z
        required: false
        type: string
      - name: valueFragmentType
        in: query
        description: valueFragmentType={valueFragmentType}
        required: false
        type: string
      - name: valueFragmentSeries
        in: query
        description: valueFragmentSeries={valueFragmentSeries}
        required: false
        type: string
      - name: type
        in: query
        description: type={type}
        required: false
        type: string
      - name: source
        in: query
        description: source={source}
        required: false
        type: string
      responses:
        "200":
          description: success
          schema:
            $ref: '#/definitions/inline_response_200'
        default:
          description: Other Error
          schema:
            $ref: '#/definitions/inline_response_default'
  /inventory/managedObjects/{deviceId}:
    get:
      tags:
      - Inventory
      summary: https://cumulocity.com/guides/reference/inventory/#managed-object
      description: Get a managedObject
      produces:
      - application/json
      parameters:
      - name: deviceId
        in: path
        description: device id
        required: true
        type: string
      responses:
        "200":
          description: success
          schema:
            $ref: '#/definitions/inline_response_200_1'
        "404":
          description: Not Found Device
          schema:
            $ref: '#/definitions/inline_response_default'
        default:
          description: Other Error
          schema:
            $ref: '#/definitions/inline_response_default'
  /inventory/managedObjects/{deviceId}/{referenceType}:
    get:
      tags:
      - Inventory
      summary: https://cumulocity.com/guides/reference/inventory/#managed-object-reference-collection
      description: Get Managed Object Reference Collection
      produces:
      - application/json
      parameters:
      - name: referenceType
        in: path
        description: reference type childDevices or childAssets
        required: true
        type: string
      - name: deviceId
        in: path
        description: device ID of parent
        required: true
        type: string
      - name: pageSize
        in: query
        description: Default 5, Max 2000
        required: false
        type: integer
      - name: currentPage
        in: query
        required: false
        type: integer
      - name: withTotalPages
        in: query
        required: false
        type: boolean
      - name: dateFrom
        in: query
        description: example formats 2019-04-20 or 2019-04-20T08:30:00.000Z
        required: false
        type: string
      - name: dateTo
        in: query
        description: example formats 2019-04-20 or 2019-04-20T08:30:00.000Z
        required: false
        type: string
      - name: query
        in: query
        description: 'query language eg only query to database: …?query=name eq ‘M01’ keyword $filter=: …?query=$filter=name eq ‘M01’ keyword $orderby=: …?query=$orderby=id asc keywords $filter= and $orderby=: …?query=$filter=name eq ‘M01’ $orderby=id'
        required: false
        type: string
      - name: fragmentType
        in: query
        description: fragmentType={fragmentType}
        required: false
        type: string
      - name: type
        in: query
        description: type={type}
        required: false
        type: string
      - name: ids
        in: query
        description: ids={ids}
        required: false
        type: string
      responses:
        "200":
          description: success
          schema:
            $ref: '#/definitions/inline_response_200_2'
        default:
          description: Other Error
          schema:
            $ref: '#/definitions/inline_response_default'
  /inventory/managedObjects:
    get:
      tags:
      - Inventory
      summary: https://cumulocity.com/guides/reference/inventory/#managed-object-collection
      description: Get Managed Object Collection
      produces:
      - application/json
      parameters:
      - name: pageSize
        in: query
        description: Default 5, Max 2000
        required: false
        type: integer
      - name: currentPage
        in: query
        required: false
        type: integer
      - name: withTotalPages
        in: query
        required: false
        type: boolean
      - name: dateFrom
        in: query
        description: example formats 2019-04-20 or 2019-04-20T08:30:00.000Z
        required: false
        type: string
      - name: dateTo
        in: query
        description: example formats 2019-04-20 or 2019-04-20T08:30:00.000Z
        required: false
        type: string
      - name: query
        in: query
        description: 'query language eg only query to database: …?query=name eq ‘M01’ keyword $filter=: …?query=$filter=name eq ‘M01’ keyword $orderby=: …?query=$orderby=id asc keywords $filter= and $orderby=: …?query=$filter=name eq ‘M01’ $orderby=id'
        required: false
        type: string
      - name: fragmentType
        in: query
        description: fragmentType={fragmentType}
        required: false
        type: string
      - name: type
        in: query
        description: type={type}
        required: false
        type: string
      - name: ids
        in: query
        description: ids={ids}
        required: false
        type: string
      responses:
        "200":
          description: success
          schema:
            $ref: '#/definitions/inline_response_200_3'
        default:
          description: Other Error
          schema:
            $ref: '#/definitions/GenericError'
securityDefinitions:
  auth:
    type: basic
definitions:
  GenericError:
    type: object
    properties:
      error:
        type: string
      info:
        type: string
      message:
        type: string
  AlarmAPI:
    type: object
    properties:
      self:
        type: string
      alarms:
        type: string
      alarmsForStatus:
        type: string
      alarmsForSource:
        type: string
      alarmsForSourceAndStatus:
        type: string
      alarmsForTime:
        type: string
      alarmsForStatusAndTime:
        type: string
      alarmsForSourceAndTime:
        type: string
      alarmsForSourceAndStatusAndTime:
        type: string
      alarmsForSourceWithAssetsAndWithDevices:
        type: string
      alarmsForSeverity:
        type: string
      alarmsForResolved:
        type: string
  Alarm:
    type: object
    properties:
      self:
        type: integer
      id:
        type: string
      time:
        type: string
      type:
        type: string
      creationTime:
        type: integer
      text:
        type: string
      status:
        type: string
      severity:
        type: string
      count:
        type: integer
      firstOccurrenceTime:
        type: string
      source:
        $ref: '#/definitions/Alarm_source'
  AlarmCollection:
    type: object
    properties:
      next:
        type: string
      prev:
        type: string
      self:
        type: integer
      statistics:
        $ref: '#/definitions/inline_response_200_statistics'
      alarms:
        type: array
        items:
          $ref: '#/definitions/AlarmCollection_alarms'
  alarmalarms_source:
    type: object
    properties:
      id:
        type: integer
      self:
        type: string
  Alarm_1:
    type: object
    required:
    - severity
    - source
    - text
    - time
    - type
    properties:
      type:
        type: string
      time:
        type: string
      text:
        type: string
      source:
        $ref: '#/definitions/alarmalarms_source'
      status:
        type: string
      severity:
        type: string
  inline_response_200_statistics:
    type: object
    properties:
      totalPages:
        type: integer
      currentPage:
        type: integer
      pageSize:
        type: integer
  inline_response_200_source:
    type: object
    properties:
      self:
        type: integer
      id:
        type: string
  inline_response_200_ct_CustomSensor_sim_ct_CustomSeries_1:
    type: object
    properties:
      value:
        type: string
      unit:
        type: string
  inline_response_200_ct_CustomSensor_sim:
    type: object
    properties:
      ct_CustomSeries_1:
        $ref: '#/definitions/inline_response_200_ct_CustomSensor_sim_ct_CustomSeries_1'
      ct_CustomSeries_2:
        $ref: '#/definitions/inline_response_200_ct_CustomSensor_sim_ct_CustomSeries_1'
      ct_CustomSeries_3:
        $ref: '#/definitions/inline_response_200_ct_CustomSensor_sim_ct_CustomSeries_1'
      ct_CustomSeries_4:
        $ref: '#/definitions/inline_response_200_ct_CustomSensor_sim_ct_CustomSeries_1'
  inline_response_200_c8y_SignalStrength:
    type: object
    properties:
      rssi:
        $ref: '#/definitions/inline_response_200_ct_CustomSensor_sim_ct_CustomSeries_1'
      ber:
        $ref: '#/definitions/inline_response_200_ct_CustomSensor_sim_ct_CustomSeries_1'
  inline_response_200_c8y_TemperatureMeasurement:
    type: object
    properties:
      T:
        $ref: '#/definitions/inline_response_200_ct_CustomSensor_sim_ct_CustomSeries_1'
  inline_response_200_cTh_AccelerationMeasurement:
    type: object
    properties:
      X:
        $ref: '#/definitions/inline_response_200_ct_CustomSensor_sim_ct_CustomSeries_1'
      Y:
        $ref: '#/definitions/inline_response_200_ct_CustomSensor_sim_ct_CustomSeries_1'
      Z:
        $ref: '#/definitions/inline_response_200_ct_CustomSensor_sim_ct_CustomSeries_1'
  inline_response_200_measurements:
    type: object
    properties:
      self:
        type: integer
      id:
        type: string
      time:
        type: string
      type:
        type: string
      source:
        $ref: '#/definitions/inline_response_200_source'
      ct_CustomSensor_sim:
        $ref: '#/definitions/inline_response_200_ct_CustomSensor_sim'
      c8y_SignalStrength:
        $ref: '#/definitions/inline_response_200_c8y_SignalStrength'
      c8y_TemperatureMeasurement:
        $ref: '#/definitions/inline_response_200_c8y_TemperatureMeasurement'
      cTh_AccelerationMeasurement:
        $ref: '#/definitions/inline_response_200_cTh_AccelerationMeasurement'
  inline_response_200:
    type: object
    properties:
      next:
        type: string
      self:
        type: integer
      statistics:
        $ref: '#/definitions/inline_response_200_statistics'
      measurements:
        type: array
        items:
          $ref: '#/definitions/inline_response_200_measurements'
  inline_response_default:
    type: object
    properties:
      error:
        type: string
      info:
        type: string
      message:
        type: string
  inline_response_200_1_c8y_Hardware:
    type: object
    properties:
      model:
        type: string
      serialNumber:
        type: string
  inline_response_200_1_c8y_Mobile:
    type: object
    properties:
      imei:
        type: string
      cellId:
        type: string
      iccid:
        type: string
  inline_response_200_1_c8y_Firmware:
    type: object
    properties:
      version:
        type: string
  inline_response_200_1_c8y_Position:
    type: object
    properties:
      alt:
        type: string
      lng:
        type: string
      lat:
        type: string
  inline_response_200_1:
    type: object
    properties:
      owner:
        type: string
      creationTime:
        type: string
      lastUpdated:
        type: string
      type:
        type: string
      name:
        type: string
      id:
        type: string
      c8y_Hardware:
        $ref: '#/definitions/inline_response_200_1_c8y_Hardware'
      c8y_Mobile:
        $ref: '#/definitions/inline_response_200_1_c8y_Mobile'
      c8y_Firmware:
        $ref: '#/definitions/inline_response_200_1_c8y_Firmware'
      c8y_Position:
        $ref: '#/definitions/inline_response_200_1_c8y_Position'
  inline_response_200_2_managedObject_c8y_ActiveAlarmStatus:
    type: object
    properties:
      major:
        type: string
  inline_response_200_2_managedObject_c8y_Availability:
    type: object
    properties:
      lastMessage:
        type: string
      status:
        type: string
  inline_response_200_2_managedObject_c8y_Connection:
    type: object
    properties:
      status:
        type: string
  inline_response_200_2_managedObject:
    type: object
    properties:
      owner:
        type: string
      creationTime:
        type: string
      lastUpdated:
        type: string
      type:
        type: string
      name:
        type: string
      id:
        type: string
      c8y_ActiveAlarmStatus:
        $ref: '#/definitions/inline_response_200_2_managedObject_c8y_ActiveAlarmStatus'
      c8y_Availability:
        $ref: '#/definitions/inline_response_200_2_managedObject_c8y_Availability'
      c8y_Connection:
        $ref: '#/definitions/inline_response_200_2_managedObject_c8y_Connection'
      c8y_Hardware:
        $ref: '#/definitions/inline_response_200_1_c8y_Hardware'
      c8y_Mobile:
        $ref: '#/definitions/inline_response_200_1_c8y_Mobile'
      c8y_Firmware:
        $ref: '#/definitions/inline_response_200_1_c8y_Firmware'
      c8y_Position:
        $ref: '#/definitions/inline_response_200_1_c8y_Position'
  inline_response_200_2_references:
    type: object
    properties:
      managedObject:
        $ref: '#/definitions/inline_response_200_2_managedObject'
  inline_response_200_2:
    type: object
    properties:
      next:
        type: string
      self:
        type: integer
      statistics:
        $ref: '#/definitions/inline_response_200_statistics'
      references:
        type: array
        items:
          $ref: '#/definitions/inline_response_200_2_references'
  inline_response_200_3_additionParents_managedObject:
    type: object
    properties:
      name:
        type: string
      id:
        type: string
      self:
        type: string
  inline_response_200_3_additionParents_references:
    type: object
    properties:
      managedObject:
        $ref: '#/definitions/inline_response_200_3_additionParents_managedObject'
  inline_response_200_3_additionParents:
    type: object
    properties:
      self:
        type: string
      references:
        type: array
        items:
          $ref: '#/definitions/inline_response_200_3_additionParents_references'
  inline_response_200_3_managedObjects:
    type: object
    properties:
      additionParents:
        $ref: '#/definitions/inline_response_200_3_additionParents'
      assetParents:
        $ref: '#/definitions/inline_response_200_3_additionParents'
      childAdditions:
        $ref: '#/definitions/inline_response_200_3_additionParents'
      childAssets:
        $ref: '#/definitions/inline_response_200_3_additionParents'
      childDevices:
        $ref: '#/definitions/inline_response_200_3_additionParents'
      deviceParents:
        $ref: '#/definitions/inline_response_200_3_additionParents'
      owner:
        type: string
      creationTime:
        type: string
      lastUpdated:
        type: string
      type:
        type: string
      name:
        type: string
      id:
        type: string
      c8y_IsDeviceGroup:
        type: string
      c8y_Global:
        type: string
      c8y_Hardware:
        $ref: '#/definitions/inline_response_200_1_c8y_Hardware'
      c8y_Mobile:
        $ref: '#/definitions/inline_response_200_1_c8y_Mobile'
      c8y_Firmware:
        $ref: '#/definitions/inline_response_200_1_c8y_Firmware'
      c8y_Position:
        $ref: '#/definitions/inline_response_200_1_c8y_Position'
  inline_response_200_3:
    type: object
    properties:
      next:
        type: string
      self:
        type: integer
      statistics:
        $ref: '#/definitions/inline_response_200_statistics'
      managedObjects:
        type: array
        items:
          $ref: '#/definitions/inline_response_200_3_managedObjects'
  Alarm_source:
    type: object
    properties:
      self:
        type: string
      id:
        type: integer
  AlarmCollection_alarms:
    type: object
    properties:
      self:
        type: integer
      id:
        type: string
      time:
        type: string
      type:
        type: string
      creationTime:
        type: integer
      text:
        type: string
      status:
        type: string
      severity:
        type: string
      count:
        type: integer
      firstOccurrenceTime:
        type: string
      source:
        $ref: '#/definitions/Alarm_source'
